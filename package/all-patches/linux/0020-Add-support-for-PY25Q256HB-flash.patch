From f2afd2c1e3152cabb4bae1e5837e24bfed14967f Mon Sep 17 00:00:00 2001
From: Santiago Hormazabal <santiagohssl@gmail.com>
Date: Wed, 11 Feb 2026 19:54:34 -0300
Subject: [PATCH 1/1] Add support for the PY25Q256HB, a 32MB flash seen in
 newer Personal Pan Cam cameras

---
 arch/mips/xburst/common/spi_bus.c | 21 +++++++++++++++++++++
 1 file changed, 21 insertions(+)

diff --git a/arch/mips/xburst/common/spi_bus.c b/arch/mips/xburst/common/spi_bus.c
index 49ffaced6..cdc056ab0 100644
--- a/arch/mips/xburst/common/spi_bus.c
+++ b/arch/mips/xburst/common/spi_bus.c
@@ -1134,6 +1134,27 @@ struct spi_nor_platform_data spi_nor_pdata[] = {
 		.quad_mode = &flash_quad_mode[0],
 #endif
 	},
+	{
+		.name = "PY25Q256HB",
+		.pagesize = SIZE_256B,
+		.sectorsize = SIZE_4KB,
+		.chipsize = SIZE_32MB,
+		.erasesize = SIZE_32KB,
+		.id = 0x852019,
+
+		.block_info = flash_block_info,
+		.num_block_info = ARRAY_SIZE(flash_block_info),
+
+		.addrsize = 4,
+		.pp_maxbusy = 3,            /* 4ms */
+		.se_maxbusy = TIME_400MS,
+		.ce_maxbusy = TIME_80S,
+
+		.st_regnum = 3,
+#ifdef CONFIG_SPI_QUAD
+		.quad_mode = &flash_quad_mode[0],
+#endif
+	},
 };
 
 struct jz_sfc_info sfc_info_cfg = {
-- 
2.43.0

