(function() {
  'use strict';
  document.addEventListener('click', function(e) {
    const trigger = e.target.closest('[data-bs-toggle="collapse"]');
    if (!trigger) return;
    e.preventDefault();
    const targetSelector = trigger.getAttribute('href') || trigger.getAttribute('data-bs-target');
    const target = document.querySelector(targetSelector);
    if (!target) return;
    if (target.classList.contains('show')) {
      target.classList.remove('show');
      trigger.setAttribute('aria-expanded', 'false');
    } else {
      target.classList.add('show');
      trigger.setAttribute('aria-expanded', 'true');
    }
  });
})();
