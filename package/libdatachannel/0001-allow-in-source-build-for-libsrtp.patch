--- a/deps/libsrtp/cmake/ConfigSafeGuards.cmake
+++ b/deps/libsrtp/cmake/ConfigSafeGuards.cmake
@@ -1,4 +1,4 @@
-if(${CMAKE_SOURCE_DIR} STREQUAL ${CMAKE_BINARY_DIR})
+if(${CMAKE_SOURCE_DIR} STREQUAL ${CMAKE_BINARY_DIR} AND NOT BUILDROOT_ALLOW_IN_SOURCE)
     message(
         FATAL_ERROR
             "In-source builds not allowed. Please make a build directory.")
