BR2_PACKAGE_THINGINO_UBOOT=y
BR2_PACKAGE_THINGINO_UBOOT_BUILD_SYSTEM_LEGACY=y
BR2_PACKAGE_THINGINO_UBOOT_CUSTOM_GIT=y
BR2_PACKAGE_THINGINO_UBOOT_CUSTOM_REPO_URL="$(UBOOT_REPO)"
BR2_PACKAGE_THINGINO_UBOOT_CUSTOM_REPO_VERSION="$(UBOOT_REPO_VERSION)"
BR2_PACKAGE_THINGINO_UBOOT_NEEDS_LZOP=y
# BR2_PACKAGE_THINGINO_UBOOT_FORMAT_BIN is not set
BR2_PACKAGE_THINGINO_UBOOT_FORMAT_CUSTOM=y
BR2_PACKAGE_THINGINO_UBOOT_FORMAT_CUSTOM_NAME="u-boot-lzo-with-spl.bin"
BR2_PACKAGE_THINGINO_UBOOT_BOARDNAME="$(UBOOT_BOARDNAME)"
BR2_PACKAGE_THINGINO_UBOOT_CUSTOM_MAKEOPTS="-j1"

BR2_PACKAGE_THINGINO_UBOOT_EXTERNAL_ENV_ENABLE=y
BR2_PACKAGE_THINGINO_UBOOT_ROOT="/dev/mtdblock4"
BR2_PACKAGE_THINGINO_UBOOT_ROOTFSTYPE="squashfs"
BR2_PACKAGE_THINGINO_UBOOT_INIT="/init"
BR2_PACKAGE_THINGINO_UBOOT_FLASH_CONTROLLER_JZ_SFC=y
BR2_PACKAGE_THINGINO_UBOOT_MTDPARTS="setenv mtdparts mtdparts=$(UBOOT_FLASH_CONTROLLER):256k(boot),32k(env),224k(config),${kern_size_dec}(kernel),${rootfs_size}(rootfs),-(rootfs_data)${update}"
BR2_PACKAGE_THINGINO_UBOOT_BOOTARGS="setenv bootargs mem=${osmem} rmem=${rmem}$(UBOOT_ISPMEM)$(UBOOT_NMEM)console=${serialport},${baudrate}n8 panic=${panic_timeout} root=${root} rootfstype=${rootfstype} init=${init} \\${mtdparts}"
BR2_PACKAGE_THINGINO_UBOOT_BOOTCMD="sf probe-alt;sq probe-alt;run mtdparts;run bootargs;sf read ${baseaddr} ${kern_addr} ${kern_size};bootm ${baseaddr}"

# alternative source
#BR2_PACKAGE_THINGINO_UBOOT_CUSTOM_TARBALL=y
#BR2_PACKAGE_THINGINO_UBOOT_CUSTOM_TARBALL_LOCATION="https://github.com/gtxaspec/u-boot-ingenic/archive/refs/heads/master.tar.gz"
